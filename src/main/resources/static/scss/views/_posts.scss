@use "../abstracts/base" as *;
@use "../abstracts/mixins" as *;
@use "../abstracts/utilities" as *;
@use "../components" as *;

.section-posts {
  display: flex;
  overflow: hidden;
}

.posts__sidebar {
  width: 26rem;
  padding: 1.2rem 2.4rem;
  overflow: hidden;
  background-color: #fff;
  border-right: 1px solid $color-grey-light-2;
  overflow-y: auto;
  position: sticky;
  top: 0;

  &-course__informations {
    display: flex;
    flex-direction: column;
  }

  &-course__information {
    display: flex;
    flex-direction: column;
    gap: 0.2rem;
    padding: 2rem 0;

    &:not(:last-child) {
      border-bottom: 1px solid #e2e5e9;
    }

    &__heading {
      font-size: 1.4rem;
    }

    &__value {
      font-size: 1.4rem;
      color: $color-grey-light-5;
      font-weight: 300;
      text-transform: capitalize;

      a:link,
      a:visited {
        text-decoration: none;
        display: inline-block;
        font-family: inherit;
        font-weight: 400;
        @extend .transition-hover-effect;
        cursor: pointer;
        color: $color-primary;
        border-bottom: 1px solid transparent;
      }

      a:hover,
      a:active {
        border-bottom: 1px solid currentColor;
      }
    }
  }
}

.posts-wrapper {
  display: flex;
  flex-grow: 1;
  justify-content: center;
  align-items: flex-start;
  padding: 4.8rem 3.2rem 3.2rem 3.2rem;
  overflow: hidden;
  overflow-y: auto;
}

.container-posts {
  max-width: calc(120rem);
  width: 100%;
  padding: 2px 4.8rem 0 4.8rem;
  margin: 0 auto;

  overflow: hidden;

  .users-header {
    .search {
      background-color: #fff;
      border: none;
      @include box-shadow(rgba(0, 0, 0, 0.06));
    }

    margin-bottom: 2.4rem;
  }

  .post-list {
    display: flex;
    flex-direction: column;
    gap: 3.2rem;
  }

  .post {
    max-width: 75%;
    display: flex;
    gap: 0.8rem;
    flex-direction: column;
    align-self: flex-start;

    .post-box {
      font-size: 1.4rem;
      font-weight: 400;
      line-height: 1.6;
      @include box-shadow(rgba(0, 0, 0, 0.06));

      background: #fff;
      border-radius: 1.2rem;
      padding: 1.6rem 2rem;

      .project-name {
        font-weight: 700;
        font-size: 3.2rem;
      }

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        margin-top: 2.2rem;
        margin-bottom: 1.4rem;
        font-weight: 500;
        line-height: 1.3;
      }

      /* If title is the first element of .post-content, reset margin-top */
      > h1:first-child,
      > h2:first-child,
      > h3:first-child,
      > h4:first-child,
      > h5:first-child,
      > h6:first-child {
        margin-top: 0;
      }

      h1 {
        font-size: 2.8rem;
      }
      h2 {
        font-size: 2.4rem;
      }
      h3 {
        font-size: 2.2rem;
      }
      h4 {
        font-size: 2rem;
      }
      h5 {
        font-size: 1.8rem;
      }
      h6 {
        font-size: 1.6rem;
      }

      p {
        margin-bottom: 1.4rem;
        line-height: 1.6;
      }

      ul,
      ol {
        margin-bottom: 1.4rem;
        padding-left: 2.4rem;
      }

      // Links
      a {
        text-decoration: none;
        transition: all 0.2s;

        &:hover {
          text-decoration: underline;
        }
      }

      img {
        max-width: 100%;
        height: auto;
        border-radius: 0.6rem;
        margin: 1.4rem 0;
      }

      pre {
        margin: 1.4rem 0;
        border-radius: 0.6rem;
        overflow: hidden;
        background: #282c34 !important;
        position: relative;
        font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace !important;

        // Language label
        &::before {
          content: attr(data-language);
          display: none;
          background: #3f3f46;
          padding: 0.8rem 1.2rem;
          color: #f8f9fa;
          font-size: 1.2rem;
          font-family: inherit;
          text-transform: uppercase;
        }

        &[data-language]:not([data-language="undefined"]):not(
            [data-language=""]
          ) {
          &::before {
            display: block; // Sadece geçerli dil varsa göster
          }
        }

        code {
          display: block;
          padding: 1.6rem;
          font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace;
          font-size: 1.4rem;
          line-height: 1.5;
          overflow-x: auto;
          white-space: pre; // don't break the lines!
          color: #abb2bf !important;
        }
      }

      // Inline code
      :not(pre) > code {
        background: #282c34;
        padding: 0.2rem 0.6rem;
        border-radius: 0.4rem;
        font-size: 1.4rem;
        font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace;
        color: #abb2bf;
      }
    }

    .post-metadata {
      display: flex;
      align-items: center;

      gap: 0.6rem;
      font-size: 1.2rem;
      font-weight: 400;

      span {
        display: block;
      }

      .badge {
        font-size: 0.9rem;
        padding: 0.2rem 0.6rem;
        letter-spacing: 0.12rem;
      }
    }

    &--right {
      align-self: flex-end;

      .post-box {
        background: #e7f4ef;
      }

      .post-metadata {
        align-self: flex-end;
      }
    }
    &--left {
      align-self: flex-start;

      .post-box {
        background: #eafcff;
      }
    }

    &:last-child {
      margin-bottom: 4.6rem;
    }
  }

  .project-info {
    align-self: flex-start;
    max-width: 100%;
    border-bottom: 1px solid $color-grey-light-4;
    padding-bottom: 4.6rem;

    .post-box {
      border-left: 6px solid #4d90fe;
    }
  }

  .post-heading--secondary {
    font-size: 2.4rem;
    font-weight: 400;
    margin-bottom: 0;
  }

  .post-heading--answer {
    padding-top: 3.2rem; // Equal to the post row gap
    border-top: 1px solid $color-grey-light-4;
    margin-bottom: 2rem;
  }

  .form-post {
    gap: 1.4rem; // For button gap

    .form-group {
      textarea {
        resize: vertical;
        overflow-x: hidden;
      }
    }

    .btn__post {
      align-self: end;

      font-size: 1.6rem;

      padding: 1rem 1.6rem;

      &:disabled {
        background-color: $color-disable;
        color: $color-grey-light-6;
        cursor: not-allowed;
      }
    }
  }
}
